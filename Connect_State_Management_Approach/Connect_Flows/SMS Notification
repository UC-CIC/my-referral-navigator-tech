{"Version":"2019-10-30","StartAction":"03fdeef4-db00-4e20-90e9-19a9a0da61b2","Metadata":{"entryPointPosition":{"x":40,"y":40},"ActionMetadata":{"3642a10f-2b35-41fe-b15c-50651e312ee3":{"position":{"x":856.8,"y":788.8}},"8dda1f83-760e-4abd-970a-a29d24ae0ce2":{"position":{"x":516.8,"y":798.4}},"03fdeef4-db00-4e20-90e9-19a9a0da61b2":{"position":{"x":208,"y":361.6}},"c7f1ba25-7b79-48bc-a69b-84e0b2fbaeb4":{"position":{"x":755.2,"y":295.2}},"Get Customer":{"position":{"x":170.4,"y":602.4},"isFriendlyName":true,"parameters":{"ProfileRequestData":{"IdentifierName":{"displayName":"Profile ID"}}},"useDynamic":{"IdentifierName":true},"customerProfilesAction":"GetCustomerProfile"},"883b190b-1029-4dc2-91c9-570c388edd13":{"position":{"x":505.6,"y":524},"parameters":{"LambdaFunctionARN":{"displayName":"ContactSMS"},"LambdaInvocationAttributes":{"phoneNum":{"useDynamic":true}}},"dynamicMetadata":{"phoneNum":true}}},"Annotations":[],"name":"SMS Notification","description":"","type":"contactFlow","status":"PUBLISHED","hash":{}},"Actions":[{"Parameters":{},"Identifier":"3642a10f-2b35-41fe-b15c-50651e312ee3","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"Text":"Issue getting customer phone#"},"Identifier":"8dda1f83-760e-4abd-970a-a29d24ae0ce2","Type":"MessageParticipant","Transitions":{"NextAction":"3642a10f-2b35-41fe-b15c-50651e312ee3","Errors":[{"NextAction":"3642a10f-2b35-41fe-b15c-50651e312ee3","ErrorType":"NoMatchingError"}]}},{"Parameters":{"FlowLoggingBehavior":"Enabled"},"Identifier":"03fdeef4-db00-4e20-90e9-19a9a0da61b2","Type":"UpdateFlowLoggingBehavior","Transitions":{"NextAction":"Get Customer"}},{"Parameters":{},"Identifier":"c7f1ba25-7b79-48bc-a69b-84e0b2fbaeb4","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"ProfileRequestData":{"IdentifierName":"_profileId","IdentifierValue":"ab9b04795de2460e8da0a26c14e42626"},"ProfileResponseData":["MobilePhoneNumber"]},"Identifier":"Get Customer","Type":"GetCustomerProfile","Transitions":{"NextAction":"883b190b-1029-4dc2-91c9-570c388edd13","Errors":[{"NextAction":"8dda1f83-760e-4abd-970a-a29d24ae0ce2","ErrorType":"NoMatchingError"},{"NextAction":"8dda1f83-760e-4abd-970a-a29d24ae0ce2","ErrorType":"MultipleFoundError"},{"NextAction":"8dda1f83-760e-4abd-970a-a29d24ae0ce2","ErrorType":"NoneFoundError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:767398012170:function:ContactSMS","InvocationTimeLimitSeconds":"8","LambdaInvocationAttributes":{"phoneNum":"$.Customer.MobilePhoneNumber"},"ResponseValidation":{"ResponseType":"JSON"}},"Identifier":"883b190b-1029-4dc2-91c9-570c388edd13","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"c7f1ba25-7b79-48bc-a69b-84e0b2fbaeb4","Errors":[{"NextAction":"c7f1ba25-7b79-48bc-a69b-84e0b2fbaeb4","ErrorType":"NoMatchingError"}]}}]}